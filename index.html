<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Page</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
          integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        :root {
            --bg1: #0b1220;
            --bg2: #122a46;
            --card: rgba(255, 255, 255, .08);
            --card2: rgba(255, 255, 255, .12);
            --stroke: rgba(255, 255, 255, .14);
            --text: rgba(255, 255, 255, .92);
            --muted: rgba(255, 255, 255, .66);
            --muted2: rgba(255, 255, 255, .45);
            --shadow: 0 20px 60px rgba(0, 0, 0, .35);
            --r: 22px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Roboto', ui-sans-serif, system-ui, -apple-system, Segoe UI, Arial, sans-serif;
            min-height: 100vh;
            color: var(--text);
            padding: 28px 18px 40px;

            background: radial-gradient(1200px 700px at 20% 10%, rgba(255, 200, 120, .20), transparent 60%),
            radial-gradient(900px 600px at 80% 0%, rgba(120, 180, 255, .22), transparent 55%),
            linear-gradient(160deg, var(--bg1), var(--bg2));
        }

        /* subtle “grain” overlay */
        body::before {
            content: "";
            position: fixed;
            inset: 0;
            pointer-events: none;
            background: radial-gradient(circle at 20% 30%, rgba(255, 255, 255, .06), transparent 35%),
            radial-gradient(circle at 70% 20%, rgba(255, 255, 255, .05), transparent 40%),
            linear-gradient(0deg, rgba(0, 0, 0, .12), rgba(0, 0, 0, .05));
            opacity: .25;
            mix-blend-mode: overlay;
        }

        .app {
            max-width: 980px;
            margin: 0 auto;
        }

        .topbar {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 16px;
            margin-bottom: 18px;
        }

        .location {
            font-size: 28px;
            font-weight: 700;
            letter-spacing: .2px;
            text-shadow: 0 12px 30px rgba(0, 0, 0, .25);
        }

        .subtitle {
            margin-top: 6px;
            font-size: 14px;
            color: var(--muted);
        }

        /* segmented toggle */
        .segmented {
            display: flex;
            background: rgba(255, 255, 255, .10);
            border: 1px solid var(--stroke);
            border-radius: 999px;
            padding: 4px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, .25);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .seg {
            border: 0;
            background: transparent;
            color: var(--muted);
            padding: 10px 14px;
            border-radius: 999px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 700;
            transition: transform .15s, background .15s, color .15s;
        }

        .seg:hover {
            transform: translateY(-1px);
        }

        .seg.active {
            background: rgba(255, 255, 255, .18);
            color: var(--text);
        }

        /* main grid */
        .grid {
            display: grid;
            gap: 14px;
            grid-template-columns: 1fr;
        }

        .card {
            background: linear-gradient(180deg, var(--card2), var(--card));
            border: 1px solid var(--stroke);
            border-radius: var(--r);
            box-shadow: var(--shadow);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            overflow: hidden;
        }

        /* HERO */
        .hero {
            padding: 18px 18px 14px;
            max-width: 500px;
            margin: 0 auto;
        }

        .heroMain {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 14px;
            padding-bottom: 14px;
            border-bottom: 1px solid rgba(255, 255, 255, .10);
        }

        .tempBlock {
            display: flex;
            gap: 14px;
            align-items: flex-end;
        }

        .temp {
            font-size: 78px;
            line-height: .95;
            font-weight: 800;
            letter-spacing: -1.5px;
            text-shadow: 0 18px 40px rgba(0, 0, 0, .25);
        }

        .cond {
            font-size: 16px;
            font-weight: 800;
        }

        .feels {
            margin-top: 6px;
            font-size: 13px;
            color: var(--muted);
        }

        .heroIcon {
            width: 120px;
            height: 120px;
            filter: drop-shadow(0 18px 30px rgba(0, 0, 0, .25));
            opacity: .98;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            padding-top: 14px;
        }

        @media (max-width: 640px) {
            .stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .stat {
            padding: 10px 12px;
            background: rgba(255, 255, 255, .06);
            border: 1px solid rgba(255, 255, 255, .10);
            border-radius: 16px;
        }

        .k {
            font-size: 12px;
            color: var(--muted2);
        }

        .v {
            margin-top: 6px;
            font-size: 14px;
            font-weight: 800;
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .pill {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 10px;
            border-radius: 999px;
            background: rgba(120, 255, 170, .12);
            border: 1px solid rgba(120, 255, 170, .18);
            font-weight: 800;
            font-size: 12px;
        }

        /* HOURLY */
        .hourly {
            padding: 14px 14px 12px;
        }

        .cardTitle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
            padding: 6px 6px 10px;
            color: var(--muted);
            font-size: 13px;
            font-weight: 900;
            letter-spacing: .3px;
            text-transform: uppercase;
        }

        .ghost {
            border: 1px solid rgba(255, 255, 255, .14);
            background: rgba(255, 255, 255, .06);
            color: var(--text);
            border-radius: 999px;
            padding: 8px 10px;
            cursor: pointer;
            font-weight: 900;
            text-transform: none;
        }

        .hourStrip {
            display: flex;
            gap: 10px;
            overflow: auto;
            padding: 6px;
            scroll-snap-type: x mandatory;
        }

        .hourStrip::-webkit-scrollbar {
            height: 10px;
        }

        .hourStrip::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, .14);
            border-radius: 99px;
        }

        .hour {
            min-width: 92px;
            scroll-snap-align: start;
            padding: 12px 10px;
            border-radius: 18px;
            border: 1px solid rgba(255, 255, 255, .10);
            background: rgba(255, 255, 255, .06);
            text-align: center;
            transition: transform .15s, background .15s, border-color .15s;
        }

        .hour:hover {
            transform: translateY(-2px);
            background: rgba(255, 255, 255, .10);
            border-color: rgba(255, 255, 255, .18);
        }

        .hour.now {
            background: rgba(255, 255, 255, .14);
            border-color: rgba(255, 255, 255, .22);
        }

        .hour .t {
            font-size: 12px;
            color: var(--muted);
            font-weight: 700;
        }

        .hour .i {
            font-size: 20px;
            margin: 8px 0 6px;
            opacity: .95;
        }

        .hour .n {
            font-size: 18px;
            font-weight: 900;
        }

        .hour .p {
            font-size: 12px;
            color: var(--muted2);
            margin-top: 6px;
            display: flex;
            justify-content: center;
            gap: 6px;
            align-items: center;
        }

        /* CHART */
        .chart {
            padding: 14px;
        }

        .chartBox {
            height: 240px;
            margin-top: 10px;
            border-radius: 18px;
            border: 1px solid rgba(255, 255, 255, .10);
            background: rgba(0, 0, 0, .10);
            padding: 10px;
        }

        canvas {
            width: 100% !important;
            height: 100% !important;
        }

        /* Loading/Error */
        .loading, .error {
            text-align: center;
            padding: 50px;
            font-size: 16px;
            color: var(--muted);
        }

        .error {
            background: rgba(255, 255, 255, .08);
            border: 1px solid rgba(255, 255, 255, .12);
            border-radius: var(--r);
            color: var(--text);
        }

        /* Location Search */
        .location-search {
            max-width: 400px;
            margin: 60px auto;
            padding: 30px;
            background: linear-gradient(180deg, var(--card2), var(--card));
            border: 1px solid var(--stroke);
            border-radius: var(--r);
            box-shadow: var(--shadow);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            text-align: center;
        }

        .location-search h2 {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .location-search p {
            font-size: 14px;
            color: var(--muted);
            margin-bottom: 20px;
        }

        .search-form {
            display: flex;
            gap: 10px;
        }

        .search-input {
            flex: 1;
            padding: 14px 18px;
            border: 1px solid var(--stroke);
            border-radius: 999px;
            background: rgba(255, 255, 255, .08);
            color: var(--text);
            font-size: 15px;
            font-family: inherit;
            outline: none;
            transition: border-color .15s, background .15s;
        }

        .search-input::placeholder {
            color: var(--muted2);
        }

        .search-input:focus {
            border-color: rgba(255, 255, 255, .25);
            background: rgba(255, 255, 255, .12);
        }

        .search-btn {
            padding: 14px 22px;
            border: none;
            border-radius: 999px;
            background: rgba(255, 255, 255, .18);
            color: var(--text);
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: background .15s, transform .15s;
        }

        .search-btn:hover {
            background: rgba(255, 255, 255, .25);
            transform: translateY(-1px);
        }

        .search-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .search-error {
            margin-top: 16px;
            padding: 12px;
            background: rgba(255, 100, 100, .15);
            border: 1px solid rgba(255, 100, 100, .25);
            border-radius: 12px;
            font-size: 14px;
            color: #ff9999;
        }

        @media (max-width: 480px) {
            .location-search {
                margin: 30px 16px;
                padding: 24px 20px;
            }

            .search-form {
                flex-direction: column;
            }

            .search-btn {
                width: 100%;
            }
        }
    </style>

</head>
<body>
<div class="weather-page">
    <div class="loading">
        <i class="fas fa-spinner fa-spin"></i> Loading weather data...
    </div>
</div>
<script>
    let weatherData = null;
    let useFahrenheit = true;
    let tempChart = null;
    let locationName = 'Loading...';
    let currentLat = null;
    let currentLon = null;

    function cToF(c) {
        return (c * 9 / 5) + 32;
    }

    function formatTemp(c) {
        const temp = useFahrenheit ? cToF(c) : c;
        return Math.round(temp);
    }

    function getUnit() {
        return useFahrenheit ? '°F' : '°C';
    }

    async function fetchWeather(latitude, longitude) {
        const apiUrl = `/weather?latitude=${latitude}&longitude=${longitude}`;

        try {
            const response = await fetch(apiUrl);
            weatherData = await response.json();
        } catch (error) {
            console.error('Error fetching weather:', error);
            throw error;
        }
    }

    async function fetchLocationName(latitude, longitude) {
        try {
            const response = await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${latitude}&lon=${longitude}&format=json`);
            const data = await response.json();
            const city = data.address.city || data.address.town || data.address.village || data.address.county || '';
            const state = data.address.state || '';
            locationName = [city, state].filter(Boolean).join(', ') || 'Unknown Location';
        } catch (error) {
            console.error('Reverse geocoding error:', error);
            locationName = 'Unknown Location';
        }
    }

    function renderLocationSearch(errorMessage = null) {
        const weatherPage = document.querySelector('.weather-page');
        weatherPage.innerHTML = `
            <div class="location-search">
                <h2><i class="fas fa-map-marker-alt"></i> Enter Your Location</h2>
                <p>Automatic location detection is unavailable. Please enter a city name to get weather data.</p>
                <form class="search-form" onsubmit="handleLocationSearch(event)">
                    <input type="text" class="search-input" id="cityInput" placeholder="Enter city name..." autocomplete="off" required>
                    <button type="submit" class="search-btn" id="searchBtn">
                        <i class="fas fa-search"></i> Search
                    </button>
                </form>
                ${errorMessage ? `<div class="search-error"><i class="fas fa-exclamation-triangle"></i> ${errorMessage}</div>` : ''}
            </div>
        `;
        document.getElementById('cityInput').focus();
    }

    async function searchLocation(query) {
        const response = await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(query)}&format=json&limit=1`);
        const data = await response.json();
        if (!data || data.length === 0) {
            throw new Error('City not found. Please try a different search term.');
        }
        return {
            lat: parseFloat(data[0].lat),
            lon: parseFloat(data[0].lon),
            name: data[0].display_name.split(',').slice(0, 2).join(',')
        };
    }

    async function handleLocationSearch(event) {
        event.preventDefault();
        const input = document.getElementById('cityInput');
        const btn = document.getElementById('searchBtn');
        const query = input.value.trim();

        if (!query) return;

        btn.disabled = true;
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Searching...';

        try {
            const location = await searchLocation(query);
            currentLat = location.lat;
            currentLon = location.lon;
            locationName = location.name;

            await fetchWeather(currentLat, currentLon);
            renderWeather();

            // Start auto-refresh interval (10 minutes = 600000ms)
            setInterval(async () => {
                if (currentLat && currentLon) {
                    try {
                        await fetchWeather(currentLat, currentLon);
                        renderWeather();
                    } catch (error) {
                        console.error('Auto-refresh failed:', error);
                    }
                }
            }, 600000);
        } catch (error) {
            console.error('Location search error:', error);
            renderLocationSearch(error.message || 'Failed to find location. Please try again.');
        }
    }

    function getLocation() {
        if (!navigator.geolocation) {
            renderLocationSearch();
            return;
        }

        navigator.geolocation.getCurrentPosition(
            async (position) => {
                const { latitude, longitude } = position.coords;
                currentLat = latitude;
                currentLon = longitude;
                try {
                    await Promise.all([
                        fetchLocationName(latitude, longitude),
                        fetchWeather(latitude, longitude)
                    ]);
                    renderWeather();

                    // Start auto-refresh interval (10 minutes = 600000ms)
                    setInterval(async () => {
                        if (currentLat && currentLon) {
                            try {
                                await fetchWeather(currentLat, currentLon);
                                renderWeather();
                            } catch (error) {
                                // Silent fail - keep existing data displayed
                                console.error('Auto-refresh failed:', error);
                            }
                        }
                    }, 600000);
                } catch (error) {
                    document.querySelector('.weather-page').innerHTML = '<div class="error"><i class="fas fa-exclamation-circle"></i> Failed to load weather data.</div>';
                }
            },
            (error) => {
                console.error('Geolocation error:', error);
                renderLocationSearch();
            }
        );
    }

    function getWeatherCondition(weathercode) {
        switch (weathercode) {
            case 0:
                return 'Clear Sky';
            case 1:
                return 'Mainly Clear';
            case 2:
                return 'Partly Cloudy';
            case 3:
                return 'Overcast';
            case 45:
            case 48:
                return 'Foggy';
            case 51:
            case 53:
            case 55:
                return 'Drizzle';
            case 61:
            case 63:
            case 65:
                return 'Rainy';
            case 71:
            case 73:
            case 75:
                return 'Snowy';
            case 80:
            case 81:
            case 82:
                return 'Rain Showers';
            case 95:
            case 96:
            case 99:
                return 'Thunderstorm';
            default:
                return 'Unknown';
        }
    }

    function renderWeather() {
        if (!weatherData) return;

        const weatherPage = document.querySelector('.weather-page');
        const current = weatherData.current;
        const hourly = weatherData.hourly;

        const condition = getWeatherCondition(current.weathercode);

        // Hi/low from next 24h
        const todayTemps = hourly.temperature_2m.slice(0, 24);
        const highTemp = Math.max(...todayTemps);
        const lowTemp = Math.min(...todayTemps);
        const feelsLike = current.apparent_temperature ?? current.temperature_2m;

        // Hourly strip (next 12h)
        const nowHour = new Date().getHours();
        let hourlyHTML = '';
        for (let i = 0; i < 12; i++) {
            const hourTime = new Date(hourly.time[i]);
            const isNow = i === 0 || hourTime.getHours() === nowHour;
            const timeLabel = (i === 0) ? 'Now' : hourTime.toLocaleTimeString('en-US', {hour: 'numeric'});

            hourlyHTML += `
      <div class="hour ${i === 0 ? 'now' : ''}">
        <div class="t">${timeLabel}</div>
        <div class="i"><i class="fas fa-${getWeatherIcon(hourly.weathercode[i])}"></i></div>
        <div class="n">${formatTemp(hourly.temperature_2m[i])}°</div>
        <div class="p"><i class="fas fa-droplet" style="font-size:10px;"></i> ${hourly.precipitation_probability[i]}%</div>
      </div>
    `;
        }

        // UV pill text
        const uvLevel = getUVLevel(current.uv_index);
        const uvPill = `<span class="pill"><i class="fas fa-sun"></i> ${current.uv_index} • ${uvLevel}</span>`;

        weatherPage.innerHTML = `
    <div class="app">
      <header class="topbar">
        <div>
          <div class="location">${locationName}</div>
          <div class="subtitle">Today • ${condition}</div>
        </div>

        <div class="segmented" role="tablist" aria-label="Units">
          <button class="seg ${useFahrenheit ? 'active' : ''}" onclick="setUnit(true)">°F</button>
          <button class="seg ${!useFahrenheit ? 'active' : ''}" onclick="setUnit(false)">°C</button>
        </div>
      </header>

      <section class="grid">
        <div class="card hero">
          <div class="heroMain">
            <div class="tempBlock">
              <div class="temp">${formatTemp(current.temperature_2m)}°</div>
              <div style="padding-bottom:10px">
                <div class="cond">${condition}</div>
                <div class="feels">
                  Feels like ${formatTemp(feelsLike)}° • H: ${formatTemp(highTemp)}°  L: ${formatTemp(lowTemp)}°
                </div>
              </div>
            </div>

            <!-- Keep your existing SVG icon -->
            <svg class="heroIcon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="sunGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#FFD93D;stop-opacity:1" />
                  <stop offset="100%" style="stop-color:#FF9F1C;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="cloudGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                  <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
                  <stop offset="100%" style="stop-color:#e8e8e8;stop-opacity:0.9" />
                </linearGradient>
                <filter id="cloudShadow" x="-20%" y="-20%" width="140%" height="140%">
                  <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.15"/>
                </filter>
              </defs>
              <circle cx="70" cy="30" r="22" fill="url(#sunGradient)" opacity="0.9"/>
              <g stroke="url(#sunGradient)" stroke-width="2.5" stroke-linecap="round" opacity="0.8">
                <line x1="70" y1="2" x2="70" y2="10"/>
                <line x1="92" y1="8" x2="87" y2="15"/>
                <line x1="98" y1="30" x2="90" y2="30"/>
                <line x1="92" y1="52" x2="87" y2="45"/>
              </g>
              <g filter="url(#cloudShadow)">
                <ellipse cx="35" cy="65" rx="25" ry="18" fill="url(#cloudGradient)"/>
                <ellipse cx="55" cy="60" rx="22" ry="20" fill="url(#cloudGradient)"/>
                <ellipse cx="45" cy="50" rx="18" ry="15" fill="url(#cloudGradient)"/>
                <ellipse cx="28" cy="55" rx="15" ry="12" fill="url(#cloudGradient)"/>
                <ellipse cx="65" cy="68" rx="18" ry="14" fill="url(#cloudGradient)"/>
              </g>
            </svg>
          </div>

          <div class="stats">
            <div class="stat">
              <div class="k">Wind</div>
              <div class="v"><i class="fas fa-wind"></i> ${current.windspeed_10m} km/h</div>
            </div>
            <div class="stat">
              <div class="k">Humidity</div>
              <div class="v"><i class="fas fa-droplet"></i> ${current.relative_humidity_2m}%</div>
            </div>
            <div class="stat">
              <div class="k">Precip</div>
              <div class="v"><i class="fas fa-cloud-rain"></i> ${current.precipitation} mm</div>
            </div>
            <div class="stat">
              <div class="k">UV</div>
              <div class="v">${uvPill}</div>
            </div>
          </div>
        </div>

        <div class="card hourly">
          <div class="cardTitle">
            <span>Hourly</span>
            <button class="ghost" type="button">Next 12h</button>
          </div>
          <div class="hourStrip">
            ${hourlyHTML}
          </div>
        </div>

        <div class="card chart">
          <div class="cardTitle">
            <span>Temperature</span>
          </div>
          <div class="chartBox">
            <canvas id="tempChart"></canvas>
          </div>
        </div>
      </section>
    </div>
  `;

        renderChart();
    }

    function setUnit(fahrenheit) {
        useFahrenheit = fahrenheit;
        renderWeather();
    }

    function renderChart() {
        const hourly = weatherData.hourly;
        const labels = hourly.time.slice(0, 12).map(t =>
            new Date(t).toLocaleTimeString('en-US', {hour: 'numeric'})
        );
        const temps = hourly.temperature_2m.slice(0, 12).map(t =>
            useFahrenheit ? cToF(t) : t
        );

        const ctx = document.getElementById('tempChart').getContext('2d');

        if (tempChart) tempChart.destroy();

        const gradient = ctx.createLinearGradient(0, 0, 0, 240);
        gradient.addColorStop(0, 'rgba(255, 170, 60, 0.35)');
        gradient.addColorStop(1, 'rgba(255, 170, 60, 0.02)');

        tempChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels,
                datasets: [{
                    data: temps,
                    borderColor: 'rgba(255, 170, 60, 0.95)',
                    backgroundColor: gradient,
                    fill: true,
                    tension: 0.42,
                    pointRadius: 4,
                    pointHoverRadius: 5,
                    pointBackgroundColor: 'rgba(255,255,255,0.95)',
                    pointBorderColor: 'rgba(255,170,60,0.95)',
                    pointBorderWidth: 2,
                    borderWidth: 3
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {display: false},
                    tooltip: {
                        displayColors: false,
                        callbacks: {
                            label: (ctx) => `${Math.round(ctx.parsed.y)}${getUnit()}`
                        }
                    }
                },
                scales: {
                    x: {
                        grid: {display: false},
                        ticks: {
                            color: 'rgba(255,255,255,0.45)',
                            font: {weight: '700'}
                        },
                        border: {display: false}
                    },
                    y: {
                        grid: {color: 'rgba(255,255,255,0.08)'},
                        ticks: {display: false},
                        border: {display: false}
                    }
                }
            }
        });
    }

    function getUVLevel(uv) {
        if (uv <= 2) return 'Low';
        if (uv <= 5) return 'Moderate';
        if (uv <= 7) return 'High';
        if (uv <= 10) return 'Very High';
        return 'Extreme';
    }

    function getUVClass(uv) {
        if (uv <= 2) return 'uv-low';
        if (uv <= 5) return 'uv-moderate';
        if (uv <= 7) return 'uv-high';
        if (uv <= 10) return 'uv-very-high';
        return 'uv-extreme';
    }

    function getWeatherIcon(weathercode) {
        switch (weathercode) {
            case 0: // Clear sky
                return 'sun';
            case 1: // Mainly clear
            case 2: // Partly cloudy
                return 'cloud-sun';
            case 3: // Overcast
                return 'cloud';
            case 45: // Fog
            case 48: // Depositing rime fog
                return 'smog';
            case 51: // Drizzle: Light intensity
            case 53: // Drizzle: Moderate intensity
            case 55: // Drizzle: Dense intensity
                return 'cloud-rain';
            case 61: // Rain: Slight intensity
            case 63: // Rain: Moderate intensity
            case 65: // Rain: Heavy intensity
                return 'cloud-showers-heavy';
            case 71: // Snow fall: Slight intensity
            case 73: // Snow fall: Moderate intensity
            case 75: // Snow fall: Heavy intensity
                return 'snowflake';
            case 80: // Rain showers: Slight intensity
            case 81: // Rain showers: Moderate intensity
            case 82: // Rain showers: Violent intensity
                return 'cloud-showers-heavy';
            case 95: // Thunderstorm: Slight or moderate
            case 96: // Thunderstorm with slight hail
            case 99: // Thunderstorm with heavy hail
                return 'bolt';
            default:
                return 'question';
        }
    }

    getLocation();
</script>
</body>
</html>
